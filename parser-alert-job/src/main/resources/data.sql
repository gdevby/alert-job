create table order_links (id bigint generated by default as identity, created_date timestamp, links varchar(255), category_id bigint,sub_category_id bigint,primary key (id));
create table parser_categoty (id bigint generated by default as identity,name varchar(255),primary key (id));
create table parser_sub_category (id bigint generated by default as identity,name varchar(255),primary key (id));
create table site_category(id bigint generated by default as identity,link varchar(255),parse boolean not null,category_id bigint,primary key (id));
create table site_category_site_sub_categories (site_category_id bigint not null,site_sub_categories_id bigint not null,primary key (site_category_id, site_sub_categories_id));
create table site_source_job (id bigint generated by default as identity,name varchar(255),primary key (id));
create table site_source_job_site_categories (site_source_job_id bigint not null,site_categories_id bigint not null,primary key (site_source_job_id, site_categories_id) );
create table site_sub_category (id bigint generated by default as identity,link varchar(255),parse boolean not null, sub_category_id bigint, primary key (id));

alter table site_category_site_sub_categories add constraint UK_q2t63543mjiuhih2p686tt2u8 unique (site_sub_categories_id);
alter table order_links add constraint FKk7aeo7rg4pqknd4d8fxt761cu foreign key (category_id) references parser_categoty;
alter table order_links add constraint FKt3jyaekcmf2e15trly7kfj8se foreign key (sub_category_id) references parser_sub_category;
alter table site_category add constraint FKodgp196090vl00kr3kg08wruw foreign key (category_id) references parser_categoty;
alter table site_category_site_sub_categories add constraint FKnt30gvaa44xqngdcqoe8muxo5 foreign key (site_sub_categories_id) references site_sub_category;
alter table site_category_site_sub_categories add constraint FKbxtocmfhn54dsppx5d7akr3uc foreign key (site_category_id) references site_category;
alter table site_source_job_site_categories add constraint FKt6t4wsv0a47qcy34x54yuu2ep foreign key (site_categories_id) references site_category;
alter table site_source_job_site_categories add constraint FKm5341asc2u98l85txr2k8x27w foreign key (site_source_job_id) references site_source_job;
alter table site_sub_category add constraint FK9ece8srtlukuv561y2sfi2vsi foreign key (sub_category_id) references parser_sub_category;

   

insert into parser_sub_category(id,name) values(1,'Веб-программирование');
insert into parser_sub_category(id,name) values(2,'Копирайтинг');
insert into parser_sub_category(id,name) values(3,'Сайты «под ключ» ');


insert into site_sub_category(id,link,parse,sub_category_id) values(1,'https://www.fl.ru/rss/all.xml?category=2&subcategory=9', true,1);
insert into site_sub_category(id,link,parse,sub_category_id) values(2,'https://www.fl.ru/rss/all.xml?category=2&subcategory=85', true,2);
insert into site_sub_category(id,link,parse,sub_category_id) values(3,'https://freelance.habr.com/user_rss_tasks/O55VAinL%2Fg+7fH+Y+q%2FV5w==', true,3);

insert into parser_categoty(id,name) values(1,'Разработка сайтов');
insert into parser_categoty(id,name) values(2,'Разработка');

insert into site_category(id,link,parse,category_id) values(1,'https://www.fl.ru/rss/all.xml?category=2', true,1);
insert into site_category(id,link,parse,category_id) values(2,'https://freelance.habr.com/user_rss_tasks/O55VAinL%2Fg+7fH+Y+q%2FV5w==', true,2);

insert into site_category_site_sub_categories(site_category_id,site_sub_categories_id) values (1,1);
insert into site_category_site_sub_categories(site_category_id,site_sub_categories_id) values (1,2);
insert into site_category_site_sub_categories(site_category_id,site_sub_categories_id) values (2,3);

insert into site_source_job(id,name) values (1,'FLRU');
insert into site_source_job(id,name) values (2,'HUBR');

insert into site_source_job_site_categories(site_source_job_id,site_categories_id) values(1,1);
insert into site_source_job_site_categories(site_source_job_id,site_categories_id) values(2,2);
